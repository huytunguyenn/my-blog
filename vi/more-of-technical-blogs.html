<!doctype html>
<html lang="vi" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Blog | huytu</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://huytunguyenn.github.io/my-blog/vi/more-of-technical-blogs"><meta data-rh="true" property="og:locale" content="vi"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="vi"><meta data-rh="true" name="docsearch:language" content="vi"><meta data-rh="true" property="og:title" content="Blog | huytu"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/my-blog/vi/img/favicon/favicon-purple.ico"><link data-rh="true" rel="canonical" href="https://huytunguyenn.github.io/my-blog/vi/more-of-technical-blogs"><link data-rh="true" rel="alternate" href="https://huytunguyenn.github.io/my-blog/more-of-technical-blogs" hreflang="en"><link data-rh="true" rel="alternate" href="https://huytunguyenn.github.io/my-blog/vi/more-of-technical-blogs" hreflang="vi"><link data-rh="true" rel="alternate" href="https://huytunguyenn.github.io/my-blog/more-of-technical-blogs" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/my-blog/vi/more-of-technical-blogs/rss.xml" title="huytu RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/my-blog/vi/more-of-technical-blogs/atom.xml" title="huytu Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/my-blog/vi/more-of-my-thoughts/rss.xml" title="huytu RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/my-blog/vi/more-of-my-thoughts/atom.xml" title="huytu Atom Feed">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/my-blog/vi/assets/css/styles.bd050792.css">
<script src="/my-blog/vi/assets/js/runtime~main.d7e2a39e.js" defer="defer"></script>
<script src="/my-blog/vi/assets/js/main.abda9cf7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Nhảy tới nội dung"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Nhảy tới nội dung</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my-blog/vi/"><div class="navbar__logo"><img src="/my-blog/vi/img/icon/logo-purple.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/my-blog/vi/img/icon/logo-purple-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"></div><b class="navbar__title text--truncate">huytu</b></a><a class="navbar__item navbar__link" href="/my-blog/vi/docs">data_warehouse</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my-blog/vi/more-of-technical-blogs">我的 blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Tiếng Việt</a><ul class="dropdown__menu"><li><a href="/my-blog/more-of-technical-blogs" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/my-blog/vi/more-of-technical-blogs" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="vi">Tiếng Việt</a></li><li><a href="https://my-site.com/help-us-translate" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help me translate</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Chuyển đổi chế độ sáng và tối (hiện tại chế độ sáng)" aria-label="Chuyển đổi chế độ sáng và tối (hiện tại chế độ sáng)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Điều hướng các bài viết gần đây trên blog"><div class="sidebarItemTitle_pO2u margin-bottom--md">Tất cả bài đăng của tui</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/my-blog/vi/more-of-technical-blogs/concurrency-series-1-measurement">the first 2 measurement units</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/my-blog/vi/more-of-technical-blogs/2024/1/4/career/blob-la-gi">blob-la-gi</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/my-blog/vi/more-of-technical-blogs/duck-typing">Duck typing</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/my-blog/vi/more-of-technical-blogs/my-experience-about-writing-scripts">Tản màn về scripts (2023)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/my-blog/vi/more-of-technical-blogs/what-is-dump">Dump là gì?</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Chắc hẳn ai cũng muốn (không muốn thì đến lúc cũng phải muốn) cái app mình code chạy nhanh nhất,"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/my-blog/vi/more-of-technical-blogs/concurrency-series-1-measurement">the first 2 measurement units</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-05-15T00:00:00.000Z" itemprop="datePublished">15 tháng 5, 2024</time> · <!-- -->Một phút để đọc</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/49774218?s=400&amp;u=138919d59c0418791e7151634a2c1e662846b074&amp;v=4" alt="Huy-Tu Nguyen" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Huy-Tu Nguyen</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Chắc hẳn ai cũng muốn (không muốn thì đến lúc cũng phải muốn) cái app mình code chạy nhanh nhất,
responsive nhất nên không lạ gì với các thông số đo đạc performance của hệ thống
để biết nó nhanh hay chậm. Vài cái tiêu biểu là latency &amp; throughput.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="concurrency-series-1-đo-đạc-tốc-độ">[Concurrency series] #1 Đo đạc tốc độ<a href="#concurrency-series-1-đo-đạc-tốc-độ" class="hash-link" aria-label="Đường dẫn trực tiếp tới đề mục này" title="Đường dẫn trực tiếp tới đề mục này">​</a></h3>
<p><strong>Latency (độ trễ)</strong> là thời gian từ khi gói tin được gửi đi cho đến khi gói tin
được nhận, hay là thời gian từ khi bắt đầu tới khi hoàn thành task, hay là.
Latency cao nghĩa là độ trễ cao, aka thời gian hoàn thành lớn-chậm.</p>
<p><strong>Throughput (thông lượng)</strong> là số byte gửi/nhận trong 1 giây của mạng, là số lượng
task mà system có thể handle trong 1 khoảng thời gian. Nó thể hiện cho “năng suất”.</p>
<blockquote>
<p><em>Một ví dụ đơn giản là xe máy &amp; xe bus, xe máy có thể nhanh gấp đôi xe bus nhưng
xe bus lại chở được số lượng x25 lần xe máy. Xe bus có throughput lớn hơn xe máy.</em></p>
</blockquote>
<p>**</p>
<p><em><strong>Vậy là hệ thống throughput cao thì latency thấp?</strong></em> Cũng không hẳn như vậy:</p>
<blockquote>
<p><em>Xe máy chở đc 1 người/h, xe bus thì chở 50 người/2h (là 25 người/h). Trong trường
hợp này, xe bus có throughput cao, nhưng latency nó cũng cao hơn xe máy. In the end,
nó vẫn phải tốn 2h để hoàn thành nhiệm vụ</em></p>
</blockquote>
<p>→ Tương tự trong hệ thống máy tính, <strong>không phải throughput cao là đồng nghĩa với latency thấp.</strong></p>
<p>Có 2 điều cần lưu ý rằng:</p>
<ul>
<li>Cải thiện yếu tố này có thể làm tệ đi yếu tố còn lại.</li>
<li>Các khái niệm trái nghĩa nhau không đồng thời triệt tiêu nhau mà có thể tồn tại cùng nhau (cái này nói sau hehe).</li>
</ul>
<p>Nói một cách technical hơn 1 long-running task có thể được chia nhỏ thành nhiều
task có thể được thực thi <em>song song</em>, giúp giảm thời gian thực thi → giảm latency.
Nhiều task được thực hiện <em>đồng thời</em> cũng là giúp tăng throughput.</p>
<p><code>x</code> còn giúp <strong>che giấu latency.</strong></p>
<blockquote>
<p><em>Một ví dụ đời thực là khi chờ xe bus, thay vì chỉ ngồi chờ, chúng ta có thể làm
những task khác như đọc sách, check mail, tin nhắn, gọi điện, ăn sáng, etc.</em></p>
</blockquote>
<p>Đây là những hành động vô thức mà ta làm thường ngày. Tại sao chúng ta làm? → Bởi vì chúng ta “thấy” nó optimize hoạt động của mình.</p>
<p><em>Tại sao nó optimize? Việc chúng check mail trong lúc chờ xe bus không giúp xe bus đi nhanh hơn?</em></p>
<p>→ Well thực tế bởi vì chúng ta đã che giấu đi độ trễ của xe bus, i.e. làm task khác trong
thời gian đợi task có latency cao. Đây cũng là một ví dụ cho thấy che giấu latency
là một trong những key cho 1 responsive system (và đây là đáp án đầu tiên cho bài toán liên quan tới việc waiting).</p>
<p>** <em>Chatchit</em></p>
<p><em><strong>Q:</strong></em> Wait, what is <code>x</code>?</p>
<p><em><strong>A:</strong></em> Based on the title and the bold words, you’ve already known. It is concurrency.</p>
<p><em><strong>Q:</strong></em> Vậy nói 1 hồi thì liên quan gì tới measurement?</p>
<p><em><strong>A:</strong></em> Vì nó là động lực. Concurrency không mới nhưng nó là skill cần thiết với modern systems ngày nay.</p>
<p><em><strong>Q:</strong></em> What is concurrency?</p>
<p><em><strong>A:</strong></em> Dunno yet.</p>
<hr>
<p><strong>ResRef</strong>: Kirill Bobrov, Manning Publications - Grokking Concurrency</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/my-blog/vi/more-of-technical-blogs/2024/1/4/career/blob-la-gi">blob-la-gi</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-01-04T00:00:00.000Z" itemprop="datePublished">4 tháng 1, 2024</time> · <!-- -->Một phút để đọc</div></header><div class="markdown" itemprop="articleBody"></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="ABC//medium.com/always-be-coding/abc-always-be-coding-d5f8051afce2"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/my-blog/vi/more-of-technical-blogs/duck-typing">Duck typing</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-29T00:00:00.000Z" itemprop="datePublished">29 tháng 12, 2023</time> · <!-- -->Một phút để đọc</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/49774218?s=400&amp;u=138919d59c0418791e7151634a2c1e662846b074&amp;v=4" alt="Huy-Tu Nguyen" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Huy-Tu Nguyen</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>ABC: <a href="https://medium.com/always-be-coding/abc-always-be-coding-d5f8051afce2" target="_blank" rel="noopener noreferrer">https://medium.com/always-be-coding/abc-always-be-coding-d5f8051afce2</a></p>
<p>Broken windows: <a href="https://en.wikipedia.org/wiki/Broken_windows_theory" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Broken_windows_theory</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tách-hàm-như-thế-nào">Tách hàm như thế nào<a href="#tách-hàm-như-thế-nào" class="hash-link" aria-label="Đường dẫn trực tiếp tới đề mục này" title="Đường dẫn trực tiếp tới đề mục này">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    src = if imageDownloadUrl != null then builtins.fetchurl {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else fetchEcr {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://en.wikipedia.org/wiki/Duck_typing" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Duck_typing</a></p>
<p>Nếu có thể cho rằng bất cứ thứ gì biết bơi đều là vịt vì vịt có thể bơi thì cá voi có thể được coi là vịt; tuy nhiên, nếu người ta cũng cho rằng con vịt phải có khả năng bay thì con cá voi sẽ không được coi là con vịt.</p>
<p>So it seems weird that the function has to be executed either with args A, B or with arg C, D, but no overlap. It doesn&#x27;t even attempt to catch odd case if all args are specified.</p>
<p>This should be separated back into two separate unrelated functions for clarity, and shouldn&#x27;t be <code>doEverything(args, for, all, possible, cases)</code></p>
<p>I don&#x27;t know if I&#x27;d agree with that. It&#x27;s fine to have two functions returning the same &quot;type&quot; (i.e. in nix&#x27;s case, similar to JavaScripts, using duck typing). But having function distinctly doing different things just so that it returns same return type is weird. If one function fails to return, for example, imageTag and that key is needed for evaluation, nix evaluation will fail with error message. And if it&#x27;s not needed, no harm if function doesn&#x27;t return it.</p>
<p>I.e. there are many functions in nix (that can be used) for fetching git source code: fetchUrl, fetchGit, fetchGitHub, fetchGitLab, fetchTarball, fetchBitbucket, fetchgitLocal , fetchgitPrivate, and possibly even more. There even other functions for svn, hg, and other source-related fetches. Each, in the end, returns one same thing, a git repo. But you&#x27;ll notice that there is not a function fetchRepo(name, revision, url, git, github, gitlab, tarball, bitbucket, local, private) which would reuse first two args, and then require exclusive 3rd arg (or some combination of exclusive arg sets, such as sometimes asking for authentication or w/e else). Because such a function would be unmanageable and confusing. So I think it&#x27;s best to separate the two, and, in addition, make it clearer which one is fetching from where and requires what data explicitly (e.g. Ecr fetch always would require aws creds, not optionally)</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Thẻ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/my-blog/vi/more-of-technical-blogs/tags/career">career</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Tâm sự nhảm (skip for now):"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/my-blog/vi/more-of-technical-blogs/my-experience-about-writing-scripts">Tản màn về scripts (2023)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-29T00:00:00.000Z" itemprop="datePublished">29 tháng 12, 2023</time> · <!-- -->Một phút để đọc</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/49774218?s=400&amp;u=138919d59c0418791e7151634a2c1e662846b074&amp;v=4" alt="Huy-Tu Nguyen" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Huy-Tu Nguyen</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><em>Tâm sự nhảm (skip for now):</em>
Năm mới sắp hết, hôm nay là ngày làm việc cuối cùng của năm - friday 29/12
(thật ra hôm nay booked off rồi <!-- -->:v<!-- -->). Nên cũng muốn viết một cái gì đó. Cho nên
hôm nay sẽ viết về một thứ liên quan tới công việc của mình trong nửa cuối năm
vừa qua, đó chính là làm việc với scripts.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="kinh-nghiệm-với">Kinh nghiệm với<a href="#kinh-nghiệm-với" class="hash-link" aria-label="Đường dẫn trực tiếp tới đề mục này" title="Đường dẫn trực tiếp tới đề mục này">​</a></h2>
<p>Chúng ta luôn có folder dự phòng <code>/tmp</code> ở đâu đó.</p>
<p>Khi làm một lệnh gì đó nên check nếu lệnh đó có thể fail và gây crash. Một số ví dụ</p>
<ol>
<li></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Copy file ở SOURCE -&gt; TARGET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp $SOURCE/my_awesome_file $TARGET:/still_my_awesome_file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nên:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scp ... || (echo &quot;failed yada yada&quot;; exit 1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Những lệnh <code>cd</code> về technically vẫn có thể failed với những unexpected path.</p>
<p>Use &quot;|| true&quot; to avoid interruption on stopping failure</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f ${hostConfig.dockerComposeYmlPath} down -v || true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This stop on errors but hide all errors.</p>
<ol start="2">
<li>Error</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ${hostConfig.dockerRootDataDir} || true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Success!&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>$\leftarrow$<code>|| true</code> here seems pointless, as it&#x27;ll continue anyway. Also confusing in that it&#x27;ll always write Success! even if mkdir fails -&gt; It was meant to be <code>|| exit 1</code></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if [ ! -f &quot;$file_path&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  echo &quot;Expecting the file at path $file_path but it&#x27;s unavailable. Stop now&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>should be going to stderr via &gt;&amp;2?</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># For debug when needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set -x</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Dump là gì?"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/my-blog/vi/more-of-technical-blogs/what-is-dump">Dump là gì?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-22T00:00:00.000Z" itemprop="datePublished">22 tháng 12, 2023</time> · <!-- -->Một phút để đọc</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/49774218?s=400&amp;u=138919d59c0418791e7151634a2c1e662846b074&amp;v=4" alt="Huy-Tu Nguyen" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/huytunguyenn" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Huy-Tu Nguyen</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dump-là-gì">Dump là gì?<a href="#dump-là-gì" class="hash-link" aria-label="Đường dẫn trực tiếp tới đề mục này" title="Đường dẫn trực tiếp tới đề mục này">​</a></h2></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Thẻ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/my-blog/vi/more-of-technical-blogs/tags/career">career</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Thanh điều hướng của trang danh sách bài viết"></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Huy Tu Nguyen.</div></div></div></footer></div>
</body>
</html>